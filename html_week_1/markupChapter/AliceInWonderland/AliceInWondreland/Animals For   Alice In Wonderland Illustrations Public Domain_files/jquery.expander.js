(function(e){e.expander={version:"1.4.13",defaults:{slicePoint:100,sliceOn:null,preserveWords:true,showWordCount:false,wordCountText:" ({{count}} words)",widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:false,wordEnd:/(&(?:[^;]+;)?|[a-zA-Z\u00C0-\u0100]+|[^\u0000-\u007F]+)$/,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",moreLinkClass:"more-link",lessLinkClass:"less-link",collapseTimer:0,expandEffect:"slideDown",expandSpeed:250,collapseEffect:"slideUp",collapseSpeed:200,userCollapse:true,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null,afterCollapse:null}};e.fn.expander=function(t){function v(e,t){var n="span",r=e.summary,i=f.exec(r),s=i?i[2].toLowerCase():"";if(t){n="div";if(i&&s!=="a"&&!e.expandAfterSummary){r=r.replace(f,e.moreLabel+"$1")}else{r+=e.moreLabel}r='<div class="'+e.summaryClass+'">'+r+"</div>"}else{r+=e.moreLabel}return[r," <",n+' class="'+e.detailClass+'"',">",e.details,"</"+n+">"].join("")}function m(e,t){var n='<span class="'+e.moreClass+'">'+e.expandPrefix;if(e.showWordCount){e.wordCountText=e.wordCountText.replace(/\{\{count\}\}/,t.replace(o,"").replace(/\&(?:amp|nbsp);/g,"").replace(/(?:^\s+|\s+$)/,"").match(/\w+/g).length)}else{e.wordCountText=""}n+='<a href="#" class="'+e.moreLinkClass+'">'+e.expandText+e.wordCountText+"</a></span>";return n}function g(t,n){if(t.lastIndexOf("<")>t.lastIndexOf(">")){t=t.slice(0,t.lastIndexOf("<"))}if(n){t=t.replace(s,"")}return e.trim(t)}function y(e,t){t.stop(true,true)[e.collapseEffect](e.collapseSpeed,function(){var n=t.prev("span."+e.moreClass).show();if(!n.length){t.parent().children("div."+e.summaryClass).show().find("span."+e.moreClass).show()}if(e.afterCollapse){e.afterCollapse.call(t)}})}function b(t,n,r){if(t.collapseTimer){h=setTimeout(function(){y(t,n);if(e.isFunction(t.onCollapse)){t.onCollapse.call(r,false)}},t.collapseTimer)}}function w(t){var n="ExpandMoreHere374216623";var r=t.summaryText.replace(t.sliceOn,n);r=e("<div>"+r+"</div>").text();var i=r.indexOf(n);var s=t.summaryText.indexOf(t.sliceOn);if(i!==-1&&i<t.slicePoint){t.summaryText=t.allHtml.slice(0,s)}return t}var n="init";if(typeof t==="string"){n=t;t={}}var r=e.extend({},e.expander.defaults,t),i=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,s=r.wordEnd,o=/<\/?(\w+)[^>]*>/g,u=/<(\w+)[^>]*>/g,a=/<\/(\w+)>/g,f=/(<\/([^>]+)>)\s*$/,l=/^(<[^>]+>)+.?/,c=/\s\s+/g,h;var p=function(t){return e.trim(t||"").replace(c," ")};var d={init:function(){this.each(function(){var t,n,s,f,c,d,E,S,x,T,N,C,k,L,A,O=[],M=[],_="",D={},P=this,H=e(this),B=e([]),j=e.extend({},r,H.data("expander")||e.meta&&H.data()||{}),F=!!H.find("."+j.detailClass).length,I=!!H.find("*").filter(function(){var t=e(this).css("display");return/^block|table|list/.test(t)}).length,q=I?"div":"span",R=q+"."+j.detailClass,U=j.moreClass+"",z=j.lessClass+"",W=j.expandSpeed||0,X=p(H.html()),V=X.slice(0,j.slicePoint);j.moreSelector="span."+U.split(" ").join(".");j.lessSelector="span."+z.split(" ").join(".");if(e.data(this,"expanderInit")){return}e.data(this,"expanderInit",true);e.data(this,"expander",j);e.each(["onSlice","beforeExpand","afterExpand","onCollapse","afterCollapse"],function(t,n){D[n]=e.isFunction(j[n])});V=g(V);c=V.replace(o,"").length;while(c<j.slicePoint){f=X.charAt(V.length);if(f==="<"){f=X.slice(V.length).match(l)[0]}V+=f;c++}if(j.sliceOn){A=w({sliceOn:j.sliceOn,slicePoint:j.slicePoint,allHtml:X,summaryText:V});V=A.summaryText}V=g(V,j.preserveWords&&X.slice(V.length).length);d=V.match(u)||[];E=V.match(a)||[];s=[];e.each(d,function(e,t){if(!i.test(t)){s.push(t)}});d=s;n=E.length;for(t=0;t<n;t++){E[t]=E[t].replace(a,"$1")}e.each(d,function(t,n){var r=n.replace(u,"$1");var i=e.inArray(r,E);if(i===-1){O.push(n);M.push("</"+r+">")}else{E.splice(i,1)}});M.reverse();if(!F){x=X.slice(V.length);T=e.trim(x.replace(o,""));if(T===""||T.split(/\s+/).length<j.widow){return}S=M.pop()||"";V+=M.join("");x=O.join("")+x}else{x=H.find(R).remove().html();V=H.html();X=V+x;S=""}j.moreLabel=H.find(j.moreSelector).length?"":m(j,x);if(I){x=X}else if(V.charAt(V.length-1)==="&"){_=/^[#\w\d\\]+;/.exec(x);if(_){x=x.slice(_[0].length);V+=_[0]}}V+=S;j.summary=V;j.details=x;j.lastCloseTag=S;if(D.onSlice){s=j.onSlice.call(P,j);j=s&&s.details?s:j}N=v(j,I);H.html(N);k=H.find(R);L=H.find(j.moreSelector);if(j.collapseEffect==="slideUp"&&j.expandEffect!=="slideDown"||H.is(":hidden")){k.css({display:"none"})}else{k[j.collapseEffect](0)}B=H.find("div."+j.summaryClass);C=function(e){e.preventDefault();L.hide();B.hide();if(D.beforeExpand){j.beforeExpand.call(P)}k.stop(false,true)[j.expandEffect](W,function(){k.css({zoom:""});if(D.afterExpand){j.afterExpand.call(P)}b(j,k,P)})};L.find("a").unbind("click.expander").bind("click.expander",C);if(j.userCollapse&&!H.find(j.lessSelector).length){H.find(R).append('<span class="'+j.lessClass+'">'+j.userCollapsePrefix+'<a href="#" class="'+j.lessLinkClass+'">'+j.userCollapseText+"</a></span>")}H.find(j.lessSelector+" a").unbind("click.expander").bind("click.expander",function(t){t.preventDefault();clearTimeout(h);var n=e(this).closest(R);y(j,n);if(D.onCollapse){j.onCollapse.call(P,true)}})})},destroy:function(){this.each(function(){var t,n,i=e(this);if(!i.data("expanderInit")){return}t=e.extend({},i.data("expander")||{},r);n=i.find("."+t.detailClass).contents();i.removeData("expanderInit");i.removeData("expander");i.find(t.moreSelector).remove();i.find("."+t.summaryClass).remove();i.find("."+t.detailClass).after(n).remove();i.find(t.lessSelector).remove()})}};if(d[n]){d[n].call(this)}return this};e.fn.expander.defaults=e.expander.defaults})(jQuery)